import React, { useState } from 'react';
import {
  Box,
  Button,
  Link,
  Flex,
  Spacer,
  IconButton,
  useColorMode,
  useColorModeValue,
  useMediaQuery,
} from '@chakra-ui/react';
import { MoonIcon, SunIcon } from '@chakra-ui/icons';
import { FaAlignJustify } from 'react-icons/fa';
import { Icon } from '@chakra-ui/react';
import { useNavigate } from "react-router-dom";

const Nav = ({ onOpen, ref }) => {
  const [scroll, setScroll] = useState(false);
  const { colorMode, toggleColorMode } = useColorMode();
  const navBg = useColorModeValue('white', 'blackAlpha.200');
  const [isLargerThanMD] = useMediaQuery('(min-width: 48em)');
  const navigate = useNavigate();

  const changeScroll = () =>
    document.body.scrollTop > 80 || document.documentElement.scrollTop > 80
      ? setScroll(true)
      : setScroll(false);

  window.addEventListener('scroll', changeScroll);
  if (colorMode == 'light') {
    toggleColorMode();
  }
  // "240.54409179687497" height="66.52543021537163"
  return (
    <Flex
      h="10vh"      
      alignItems="center"
      p="6"
      boxShadow={scroll ? 'base' : 'none'}
      position="sticky"
      top="0"
      zIndex="sticky"
      w="full"
      bg={navBg}
    >
      <Box w="5%" />
      <Link href="/">
        <svg width="200.9227661132813" height="45.80471053644519" viewBox="0 0 370 86.01110346913065" class="css-1j8o68f"><defs id="SvgjsDefs3806"></defs><g id="SvgjsG3807" featurekey="4K7G0D-0" transform="matrix(0.3890405214529704,0,0,0.3890405214529704,-36.00612292412487,-40.2909113186358)" fill="#90cdf4"><title xmlns="http://www.w3.org/2000/svg">Artboard 1 copy 24</title><g xmlns="http://www.w3.org/2000/svg" data-name="Immersive experience "><path d="M348.75,193.09a23.63,23.63,0,0,0-35.7-13.93l-53.22-64.55a6.62,6.62,0,1,0-11.54-4.19l-101.46,18.9a14.2,14.2,0,1,0-20.94,15.83l.34.18-24.56,53a7.08,7.08,0,1,0-2,13.86,7.13,7.13,0,0,0,4.12-1.32l91.19,95.8a10.83,10.83,0,0,0,2.67,16.48,10.78,10.78,0,0,0,5.48,1.5,11,11,0,0,0,2.75-.35,10.85,10.85,0,0,0,5.84-17.14l97.63-91.3a23.76,23.76,0,0,0,4.58,3.53,23.51,23.51,0,0,0,11.95,3.27,23.81,23.81,0,0,0,6-.77,23.66,23.66,0,0,0,16.95-28.84Zm-19.46,19.17a13.57,13.57,0,0,1-10.35-1.44,13.76,13.76,0,0,1-2.34-1.74,13.77,13.77,0,0,1-4-6.6,13.79,13.79,0,0,1-.36-2.07,13,13,0,0,1,.82-6.23,13.81,13.81,0,0,1,1-2.06c.06-.1.13-.19.19-.29a13.79,13.79,0,0,1,1.22-1.67,13.48,13.48,0,0,1,4-3.19,13.58,13.58,0,0,1,6.39-1.59,13.66,13.66,0,0,1,3.41,26.88ZM207.78,312.63a4.81,4.81,0,0,1-.51,3.67h0a4.85,4.85,0,1,1-8.35-4.91c.06-.1.13-.18.2-.27a4.78,4.78,0,0,1,1.28-1.28l.17-.1a4.82,4.82,0,0,1,1.31-.58h0c.16,0,.31-.07.47-.09a4.88,4.88,0,0,1,.75-.07,5,5,0,0,1,2.45.67c.11.07.2.15.31.22a4.77,4.77,0,0,1,1.37,1.46A4.82,4.82,0,0,1,207.78,312.63Zm-7.42-9.28-.17.05-37.57-99,34.25-.93,4.71,99.59A11,11,0,0,0,200.36,303.36ZM100.91,208a3.08,3.08,0,1,1-1.28-5.88c.1,0,.2,0,.3,0l.28,0a3,3,0,0,1,1,.35,3,3,0,0,1,1.39,3.5l0,.08a3.07,3.07,0,0,1-.21.49s0,.1-.07.15A3.06,3.06,0,0,1,100.91,208Zm26.82-78.19a6.17,6.17,0,0,1,11.16,1c.07.18.15.35.2.54a6.23,6.23,0,0,1,.19,1.42c0,.06,0,.12,0,.18a6.13,6.13,0,0,1-.39,2.12,6.27,6.27,0,0,1-.47,1,6.2,6.2,0,0,1-7,2.83l-.14,0a6.23,6.23,0,0,1-1.34-.58l-.33-.22A6.21,6.21,0,0,1,127.73,129.76Zm17.6,10.34a14.27,14.27,0,0,0,1.32-3l43.12,11.18L150.3,172l-10.17-26.78A14.11,14.11,0,0,0,145.33,140.1Zm107.31-31.22a2.6,2.6,0,0,1,1.6-1.21,2.66,2.66,0,0,1,.66-.08,2.61,2.61,0,0,1,2.3,3.85l0,.1a2.59,2.59,0,0,1-1.28,1.09l-.29.11a2.61,2.61,0,0,1-1.34,0,3.5,3.5,0,0,1-.68-.27l-.19-.14a2.58,2.58,0,0,1-.67-.7l-.11-.18a2.62,2.62,0,0,1-.24-.58,2.66,2.66,0,0,1,0-.27,2.69,2.69,0,0,1,.32-1.71Zm-51.77,77.67a4.53,4.53,0,1,1-3.9-6.83h0a4.44,4.44,0,0,1,3.76,2.1,3.83,3.83,0,0,1,.68,1.88A4.49,4.49,0,0,1,200.87,186.55Zm3.18-7,17.35-23.08,21.26,5.51a11.9,11.9,0,0,0,.27,4.68l0,.07-38.36,13.76A8.53,8.53,0,0,0,204,179.52ZM251.77,116a6.58,6.58,0,0,0,2.07.7l-.28,35a11.91,11.91,0,0,0-9.37,5.84c-.06.1-.1.2-.16.3l-20.12-4.79Zm8.49,48.77a5.88,5.88,0,0,1-.69,1.83,6,6,0,0,1-.66.91,5.9,5.9,0,0,1-9.59-1,6,6,0,0,1-.77-3.06A6,6,0,0,1,253,157.9c.18,0,.36-.07.53-.1a5.92,5.92,0,0,1,1-.09,6.25,6.25,0,0,1,3,.82A5.93,5.93,0,0,1,260.26,164.8ZM250,114.65l-30.46,37.4-21.77-5.18,52.11-32.36Zm-33.08,40.62-17.06,21a8.51,8.51,0,0,0-11.38,8.82l-30.72,6.6-6.12-16.12,42.22-26.23ZM153,192.66l-44.3,9.51,38.48-23.9Zm.76,1.88L157,202.6l-46.64,1.26Zm4.68-1L188.89,187a8.44,8.44,0,0,0,7.47,5.74l.42,8.78-34.91.94Zm39.88-.88a8.49,8.49,0,0,0,6.91-10.32l38.37-13.76a11.89,11.89,0,0,0,20.7,1.69l.59.3,11.41,5.72,13.11,6.48,13.16,6.4,1.45.7a23.39,23.39,0,0,0-1.85,8.81l-103.42,2.79ZM309.3,182.16a23.75,23.75,0,0,0-3.84,4.89l-.1.18-1.43-.73-13.06-6.6-13.1-6.52-11.46-5.62-.57-.28a11.89,11.89,0,0,0-10.18-15.7l.28-35a6.67,6.67,0,0,0,2.27-.76Zm-60.64-69.77c0,.11.08.22.13.33L193.67,145.9l-46.51-11.08a14.08,14.08,0,0,0,0-3.53ZM128,146.18a13.76,13.76,0,0,0,6.55.85l11.19,27.7-41.58,25a7,7,0,0,0-.72-.53Zm-22.85,63.37a7.09,7.09,0,0,0,.55-.8h0a7,7,0,0,0,.92-2.78l51.19-1.38,40.27,99.64a10.73,10.73,0,0,0-1.75,1.12Zm105.1,96.2a11,11,0,0,0-1.71-1.24,10.79,10.79,0,0,0-5-1.49l-4.71-99.54,103.39-2.79A23.91,23.91,0,0,0,303,205a23.54,23.54,0,0,0,5,9.46Z"></path></g></g><g id="SvgjsG3808" featurekey="wPuqcM-0" transform="matrix(3.353903902997173,0,0,3.353903902997173,116.98148776671535,-0.4526464756220179)" fill="#90cdf4"><path d="M12.96 18.5 c-1.24 1.12 -2.9 1.7 -4.76 1.7 c-3.92 0 -7.3 -2.94 -7.3 -7.2 s3.38 -7.2 7.3 -7.2 c1.84 0 3.48 0.6 4.68 1.66 l-1.76 1.98 c-0.74 -0.52 -1.74 -0.9 -2.76 -0.9 c-2.52 0 -4.42 1.86 -4.42 4.46 s1.9 4.46 4.42 4.46 c1.06 0 2.1 -0.4 2.86 -1 z M20.88 9.44 c1.98 0 3.94 1.3 3.94 4.58 l0 5.98 l-2.86 0 l0 -5.78 c0 -1.7 -0.66 -2.28 -1.76 -2.28 c-1.52 0 -2.42 1.44 -2.64 2.16 l0 5.9 l-2.86 0 l0 -14.14 l2.86 0 l0 5.66 c0.2 -0.54 1.32 -2.08 3.32 -2.08 z M34.44 9.6 l2.86 0 l0 10.4 l-2.86 0 l0 -1.28 c-0.06 0.42 -1.08 1.48 -2.88 1.48 c-2.38 0 -5.14 -1.72 -5.14 -5.42 c0 -3.58 2.76 -5.36 5.14 -5.36 c1.8 0 2.82 1.12 2.88 1.34 l0 -1.16 z M31.96 17.66 c1.4 0 2.62 -0.96 2.62 -2.88 c0 -1.86 -1.22 -2.82 -2.62 -2.82 c-1.44 0 -2.76 0.98 -2.76 2.82 c0 1.9 1.32 2.88 2.76 2.88 z M45.84 9.44 c0.26 0 0.5 0 0.76 0.06 l0 2.74 c-0.24 -0.06 -0.48 -0.06 -0.68 -0.06 c-1.92 0 -3.5 1.38 -3.68 3.38 l0 4.44 l-2.86 0 l0 -10.4 l2.86 0 l0 2.6 c0.46 -1.58 1.72 -2.76 3.6 -2.76 z M53.18000000000001 17.6 c0.54 0 0.94 -0.06 1.38 -0.22 l0 2.4 c-0.44 0.2 -1.12 0.34 -2.12 0.34 c-1.62 0 -2.98 -0.56 -2.98 -3.5 l0 -4.66 l-1.46 0 l0 -2.36 l1.46 0 l0 -2.44 l2.86 0 l0 2.44 l2.22 0 l0 2.36 l-2.22 0 l0 4.64 c0 0.48 0.14 1 0.86 1 z M61.400000000000006 9.42 c2.36 0 5.62 1.78 5 6.38 l-7.56 0 c0.36 1.3 1.44 1.98 2.84 1.98 c1.3 0 1.8 -0.3 2.54 -0.7 l1.58 1.54 c-0.9 0.94 -2.18 1.58 -4.22 1.58 c-2.6 0 -5.64 -1.78 -5.64 -5.36 c0 -3.64 3.1 -5.42 5.46 -5.42 z M61.400000000000006 11.86 c-1.04 0 -2.14 0.64 -2.52 1.92 l5 0 c-0.32 -1.28 -1.46 -1.92 -2.48 -1.92 z M74.68 9.44 c0.26 0 0.5 0 0.76 0.06 l0 2.74 c-0.24 -0.06 -0.48 -0.06 -0.68 -0.06 c-1.92 0 -3.5 1.38 -3.68 3.38 l0 4.44 l-2.86 0 l0 -10.4 l2.86 0 l0 2.6 c0.46 -1.58 1.72 -2.76 3.6 -2.76 z"></path></g></svg>
      </Link>

      {/* <Text fontSize="xl" fontWeight="bold">
        Charter
      </Text> */}

      <Spacer />
      
      <Flex alignItems="center">
        {/* <IconButton mr="10" w={6} h={6} p={5} onClick={toggleColorMode}>
          {colorMode === 'light' ? <MoonIcon /> : <SunIcon />}
        </IconButton> */}

        {isLargerThanMD ? (
          <>
            <Button colorScheme='blue' variant="outline" minWidth='100px' onClick={()=>{navigate("/chat");}}>{"  AI Chat  "}</Button>
            {/* <a target="_blank" rel="noreferrer" href="https://appseed.us/apps/react/" fontSize="md" mr="10">
              More Apps
            </a> */}
          </>
        ) : (
          <IconButton ref={ref} onClick={onOpen}>
            <Icon as={FaAlignJustify} />
          </IconButton>
        )}

      </Flex>
      <Box w="5%" />

    </Flex>
  );
};

export default Nav;